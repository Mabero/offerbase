<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Embed Test Page</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .test-section {
            background: white;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        h1 { color: #333; }
        h2 { color: #666; }
        p { color: #555; line-height: 1.6; }
        .embed-code {
            background: #f8f9fa;
            padding: 10px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            word-break: break-all;
        }
    </style>
</head>
<body>
    <div class="test-section">
        <h1>Chat Widget Embed Test</h1>
        <p>This page tests the chat widget embed functionality with custom site settings.</p>
        
        <h2>Test 1: Floating Widget (Default)</h2>
        <p>Testing floating chat widget that appears in bottom right corner.</p>
        <div class="embed-code">
            &lt;script src="http://localhost:3000/widget.js" data-site-id="your-site-id"&gt;&lt;/script&gt;
        </div>
    </div>

    <div class="test-section">
        <h2>Test 2: Inline Article Widget</h2>
        <p>This tests an inline chat widget that appears directly in the content flow. The widget should appear below this paragraph:</p>
        <div class="embed-code">
            &lt;script src="http://localhost:3000/widget.js" data-site-id="your-site-id" data-widget-type="inline"&gt;&lt;/script&gt;
        </div>
        <p>The inline widget should be embedded here when you paste the actual embed code.</p>
    </div>

    <div class="test-section">
        <h2>Test 3: Multiple Inline Widgets</h2>
        <p>Testing multiple inline widgets on the same page to ensure they work properly.</p>
        <div class="embed-code">
            &lt;script src="http://localhost:3000/widget.js" data-site-id="your-site-id-2" data-widget-type="inline"&gt;&lt;/script&gt;
        </div>
        <p>Second inline widget should appear here with different site settings.</p>
    </div>

    <div class="test-section">
        <h2>Test 4: Backward Compatibility</h2>
        <p>Testing that existing embed codes without data-widget-type still work as floating widgets.</p>
        <div class="embed-code">
            &lt;script src="http://localhost:3000/widget.js" data-site-id="your-old-site-id"&gt;&lt;/script&gt;
        </div>
    </div>

    <div class="test-section">
        <h2>Instructions</h2>
        <ol>
            <li>Go to the Dashboard and create different sites</li>
            <li>For each site, set:
                <ul>
                    <li>Widget Type (Floating or Inline)</li>
                    <li>Colors, name, intro message</li>
                </ul>
            </li>
            <li>Copy the embed code for each site from the Embed Widget tab</li>
            <li>Replace the embed code placeholders above with real codes</li>
            <li>Open this page in a browser to test the widgets</li>
            <li>Verify widget behavior based on type (see Expected Behavior)</li>
        </ol>
    </div>

    <div class="test-section">
        <h2>Expected Behavior</h2>
        <h3>Floating Widgets:</h3>
        <ul>
            <li>Should appear as a chat button in bottom right corner</li>
            <li>Click to open/close the chat interface</li>
            <li>Should show auto-popup intro message after 3 seconds</li>
            <li>Should be responsive on mobile devices</li>
        </ul>
        
        <h3>Inline Widgets:</h3>
        <ul>
            <li>Should appear as a chat box inline with the content</li>
            <li>Always visible (no button needed)</li>
            <li>Should have clean borders and shadow</li>
            <li>No auto-popup (since it's always visible)</li>
        </ul>
        
        <h3>Both Widget Types:</h3>
        <ul>
            <li>Should display site-specific styling (colors, name)</li>
            <li>Should show custom intro message</li>
            <li>Should have customized input placeholder</li>
            <li>Chat should work and send messages to the correct site</li>
        </ul>
    </div>

    <!-- Example embed codes would be inserted here -->
    <!-- 
    Example of what the embed codes should look like:
    <script src="http://localhost:3000/widget.js" data-site-id="site-uuid-1" data-settings="eyJjaGF0X25hbWUiOiJCbHVlIEJvdCIsImNoYXRfY29sb3IiOiIjMDA3N0ZGIn0="></script>
    -->

    <p style="margin-top: 40px; font-size: 14px; color: #999;">
        Note: This is a test page to verify embed functionality. Replace the placeholder embed codes with actual codes from your Dashboard.
    </p>
</body>
</html>